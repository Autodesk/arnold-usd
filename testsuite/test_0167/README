Support purpose in the procedural 

Fixes #188

author: sebastien ortega

